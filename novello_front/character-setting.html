<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Novello Studio - ìºë¦­í„° ì„¤ì •</title>
        <style>
            body {
                font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
                background-color: #f7f7f7;
                margin: 0;
                padding: 0;
            }

            header {
                background-color: #2c3e50;
                color: white;
                padding: 20px;
                text-align: center;
            }

            .container {
                max-width: 1000px;
                margin: 40px auto;
                padding: 20px;
            }

            h2 {
                text-align: center;
                margin-bottom: 30px;
            }

            .character-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 20px;
            }

            .character-card {
                background-color: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 0 8px rgba(0, 0, 0, 0.05);
                transition: transform 0.2s;
                position: relative;
            }

            .character-card:hover {
                transform: scale(1.02);
                background-color: #f0f8ff;
            }

            .character-card h3 {
                margin-bottom: 10px;
            }

            .character-card p {
                color: #555;
                font-size: 14px;
            }

            .ai-btn {
                position: absolute;
                top: 10px;
                right: 10px;
                padding: 5px 10px;
                font-size: 12px;
                background-color: #eee;
                border: 1px solid #bbb;
                border-radius: 6px;
                cursor: pointer;
            }

            .btns {
                margin-top: 40px;
                text-align: center;
            }

            .add-btn,
            .next-btn {
                padding: 12px 24px;
                font-size: 16px;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                margin: 0 10px;
            }

            .add-btn {
                background-color: #2ecc71;
                color: white;
            }

            .add-btn:hover {
                background-color: #27ae60;
            }

            .next-btn {
                background-color: #3498db;
                color: white;
            }

            .next-btn:hover {
                background-color: #2980b9;
            }

            footer {
                text-align: center;
                margin-top: 80px;
                padding: 20px;
                font-size: 14px;
                color: #777;
                background-color: #ecf0f1;
            }

            /* Modal */
            .modal-backdrop {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.4);
                display: none;
                align-items: center;
                justify-content: center;
                z-index: 9999;
            }

            .modal {
                background: white;
                border-radius: 10px;
                padding: 30px;
                max-width: 500px;
                width: 90%;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                text-align: center;
            }

            .modal input {
                width: 100%;
                padding: 10px;
                margin-top: 10px;
            }

            .modal button {
                margin-top: 20px;
                padding: 10px 20px;
                background: #3498db;
                color: white;
                border: none;
                border-radius: 6px;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <header>
            <h1>ğŸ‘¥ ìºë¦­í„° ì„¤ì •</h1>
        </header>

        <div class="container">
            <h2>ë“±ì¥ì¸ë¬¼ë“¤ì„ í™•ì¸í•˜ê³  ìˆ˜ì •í•˜ê±°ë‚˜ AI ì œì•ˆì„ ë°›ì•„ë³´ì„¸ìš”</h2>
            <div class="character-grid" id="characterGrid"></div>

            <div class="btns">
                <button class="add-btn" onclick="addCharacter()">ìºë¦­í„° ì¶”ê°€</button>
                <button class="next-btn" onclick="goToEpisode()">íšŒì°¨ ìƒì„±ìœ¼ë¡œ ì´ë™</button>
            </div>
        </div>

        <div id="modal-backdrop" class="modal-backdrop" onclick="closeModal(event)">
            <div class="modal" onclick="event.stopPropagation()">
                <h3>AI ì œì•ˆ ìš”ì²­</h3>
                <div id="step-prompt">
                    <p>ì–´ë–¤ ìŠ¤íƒ€ì¼ë¡œ ì œì•ˆí•´ë“œë¦´ê¹Œìš”?</p>
                    <input type="text" id="promptInput" placeholder="ì˜ˆ: ëƒ‰ì² í•˜ì§€ë§Œ ê³¼ê±° ìƒì²˜ë¥¼ ê°€ì§„ ì¸ë¬¼" />
                    <button onclick="generateSuggestion()">í™•ì¸</button>
                </div>
                <div id="step-suggestion" style="display: none">
                    <p><strong>AI ì œì•ˆ ê²°ê³¼:</strong></p>
                    <p
                        id="modal-suggestion"
                        style="white-space: pre-line; background: #f4f4f4; padding: 10px; border-radius: 6px"
                    ></p>
                    <button onclick="applySuggestion()">ì ìš©</button>
                    <button onclick="closeModal()">ì·¨ì†Œ</button>
                </div>
            </div>
        </div>

        <footer>Â© 2025 Novello Studio. All rights reserved.</footer>

        <script>
            const characterList = [
                {
                    name: "ì—˜ë¦¬ì‹œì•„",
                    role: "ì—¬ì£¼ì¸ê³µ / ë§ˆë²•ì‚¬",
                    description: "ê³ ëŒ€ ë§ˆë²•ì˜ ê³„ìŠ¹ìë¡œì„œ ìš´ëª…ì„ ê±°ë¶€í•˜ê³  ììœ ë¥¼ ì°¾ì•„ ë‚˜ì„œëŠ” ì¸ë¬¼",
                },
                {
                    name: "ì¹´ì´ì—”",
                    role: "ë‚¨ì£¼ì¸ê³µ / ê¸°ì‚¬ë‹¨ì¥",
                    description: "ê³¼ê±°ì˜ ì£„ë¥¼ ì†ì£„í•˜ê¸° ìœ„í•´ ì •ì˜ë¥¼ ì¶”êµ¬í•˜ëŠ” ëƒ‰ì² í•œ ê²€ì‚¬",
                },
                {name: "ë ˆì´ë‚˜", role: "ì¡°ë ¥ì / ì •ë³´ìƒ", description: "ì™•êµ­ ì „ì—­ì— ì •ë³´ë¥¼ í¼ëœ¨ë¦¬ëŠ” ì€ë°€í•œ ê±°ë˜ì"},
                {
                    name: "ì œë¼ë“œ",
                    role: "ì ëŒ€ì / ë§ˆë²•ì‚¬",
                    description: "ê³ ëŒ€ ë§ˆë²•ì„ ì—°êµ¬í•˜ë©° ì„¸ìƒì„ ì§€ë°°í•˜ë ¤ëŠ” ì•¼ë§ì„ ê°€ì§„ ì¸ë¬¼",
                },
                {
                    name: "ë¦¬ì˜¨",
                    role: "ì¡°ì—° / ì™•êµ­ì˜ ì™•ì",
                    description: "í˜•ê³¼ì˜ ê²½ìŸì—ì„œ ë²—ì–´ë‚˜ ìì‹ ì˜ ê¸¸ì„ ì°¾ìœ¼ë ¤ëŠ” ê³ ë‡Œí•˜ëŠ” ì¸ë¬¼",
                },
                {
                    name: "ë¯¸ë¦¬ì•”",
                    role: "ì¡°ì—° / ì „ì‚¬",
                    description: "ê³¼ê±° ì „ìŸì—ì„œ ê°€ì¡±ì„ ìƒê³  ë³µìˆ˜ë¥¼ ë‹¤ì§í•œ ê°•ì¸í•œ ì „ì‚¬",
                },
                {
                    name: "ì„¸ë¼í•€",
                    role: "ì¡°ì—° / ì„±ì§ì",
                    description: "ì‹ ì˜ ëœ»ì„ ë”°ë¥´ë©° ì„¸ìƒì„ êµ¬ì›í•˜ë ¤ëŠ” ìˆœìˆ˜í•œ ë§ˆìŒì„ ê°€ì§„ ì¸ë¬¼",
                },
                {
                    name: "ë‹¤í¬ë‹ˆìŠ¤",
                    role: "ì ëŒ€ì / ì•”í‘ ë§ˆë²•ì‚¬",
                    description: "ì–´ë‘ ì˜ í˜ì„ ë‹¤ë£¨ë©° ì„¸ìƒì„ í˜¼ë€ì— ë¹ ëœ¨ë¦¬ë ¤ëŠ” ìŒëª¨ë¥¼ ê¾¸ë¯¸ëŠ” ì¸ë¬¼",
                },
                {
                    name: "ì•„ë¦¬ì—˜",
                    role: "ì¡°ì—° / ìš”ì •",
                    description: "ìì—°ê³¼ ì†Œí†µí•˜ë©° ì„¸ìƒì„ ì§€í‚¤ë ¤ëŠ” ìˆœìˆ˜í•œ ë§ˆìŒì„ ê°€ì§„ ì¸ë¬¼",
                },
                {
                    name: "ì œì´ìŠ¨",
                    role: "ì¡°ì—° / ë„ì ",
                    description: "ê³¼ê±°ì˜ ìƒì²˜ë¥¼ ì•ˆê³  ì‚´ì•„ê°€ëŠ” ììœ ë¡œìš´ ì˜í˜¼ì˜ ì†Œìœ ì",
                },
            ];

            let currentIndex = null;

            function renderCharacters() {
                const grid = document.getElementById("characterGrid");
                grid.innerHTML = "";
                characterList.forEach((char, index) => {
                    const card = document.createElement("div");
                    card.className = "character-card";
                    card.innerHTML = `
                  <h3>${char.name}</h3>
                  <p><strong>${char.role}</strong></p>
                  <p>${char.description}</p>
                  <button class="ai-btn" onclick="showModal(${index})">AI ì œì•ˆ</button>
                `;
                    card.onclick = () => editCharacter(index);
                    grid.appendChild(card);
                });
            }

            function editCharacter(index) {
                const char = characterList[index];
                const name = prompt("ì´ë¦„ì„ ìˆ˜ì •í•˜ì„¸ìš”", char.name);
                if (name !== null) char.name = name;
                const role = prompt("ì—­í• ì„ ìˆ˜ì •í•˜ì„¸ìš”", char.role);
                if (role !== null) char.role = role;
                const desc = prompt("ì„¤ëª…ì„ ìˆ˜ì •í•˜ì„¸ìš”", char.description);
                if (desc !== null) char.description = desc;
                renderCharacters();
            }

            function addCharacter() {
                const name = prompt("ìƒˆ ìºë¦­í„°ì˜ ì´ë¦„ì€?");
                if (!name) return;
                const role = prompt("ì—­í• ì€?");
                const desc = prompt("ì„¤ëª…ì€?");
                characterList.push({name, role, description: desc});
                renderCharacters();
            }

            function goToEpisode() {
                alert("ìºë¦­í„°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
                window.location.href = "episode-create.html";
            }

            // AI ì œì•ˆ ëª¨ë‹¬ ë¡œì§
            function showModal(index) {
                currentIndex = index;
                document.getElementById("promptInput").value = "";
                document.getElementById("step-prompt").style.display = "block";
                document.getElementById("step-suggestion").style.display = "none";
                document.getElementById("modal-suggestion").innerText = "";
                document.getElementById("modal-backdrop").style.display = "flex";
            }

            function generateSuggestion() {
                const prompt = document.getElementById("promptInput").value.trim();
                if (!prompt) return alert("ìš”ì²­ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");

                const suggestions = [
                    "ê³ ëŒ€ ì‹ íƒì— ì˜í•´ ì„ íƒë°›ì€ ì´ê³„ì˜ ë°©ë‘ì. ë¶ˆì‚¬ì˜ ì €ì£¼ë¥¼ ì•ˆê³  ìˆìœ¼ë©°, ë§ë³´ë‹¤ í–‰ë™ì´ ì•ì„ ë‹¤.",
                    "ì¹¨ì°©í•˜ê³  ì „ëµì ì¸ íŒë‹¨ì„ ë‚´ë¦¬ëŠ” í™©ì‹¤ ì‚¬ë ¹ê´€. ê³¼ê±° ì „ìŸì—ì„œ ë™ìƒì„ ìƒì€ íŠ¸ë¼ìš°ë§ˆê°€ ìˆìŒ.",
                    "ë§íˆ¬ëŠ” ê°€ë³ì§€ë§Œ ëˆ„êµ¬ë³´ë‹¤ ë¹ ë¥´ê²Œ ì§„ì‹¤ì„ ê¿°ëš«ëŠ” ì •ë³´ìƒ. ì–´ë¦´ ì ë¶€í„° ë§ˆë²•ì„ ë…í•™í•¨.",
                ];

                const result = suggestions[currentIndex % suggestions.length];
                document.getElementById("modal-suggestion").innerText = result;
                document.getElementById("step-prompt").style.display = "none";
                document.getElementById("step-suggestion").style.display = "block";
            }

            function applySuggestion() {
                characterList[currentIndex].description = document.getElementById("modal-suggestion").innerText;
                renderCharacters();
                closeModal();
            }

            function closeModal(e) {
                if (!e || e.target === document.getElementById("modal-backdrop")) {
                    document.getElementById("modal-backdrop").style.display = "none";
                }
            }

            renderCharacters();
        </script>
    </body>
</html>
